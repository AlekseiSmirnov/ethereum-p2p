language: go
go_import_path: github.com/teamnsrg/go-ethereum
sudo: false
matrix:
  include:
  - os: linux
    dist: trusty
    sudo: required
    go: 1.7.x
    script:
    - sudo -E apt-get -yq --no-install-suggests --no-install-recommends --force-yes
      install fuse
    - sudo modprobe fuse
    - sudo chmod 666 /dev/fuse
    - sudo chown root:$USER /etc/fuse.conf
    - go run build/ci.go install
    - go run build/ci.go test -coverage
  - os: linux
    dist: trusty
    sudo: required
    go: 1.8.x
    script:
    - sudo -E apt-get -yq --no-install-suggests --no-install-recommends --force-yes
      install fuse
    - sudo modprobe fuse
    - sudo chmod 666 /dev/fuse
    - sudo chown root:$USER /etc/fuse.conf
    - go run build/ci.go install
    - go run build/ci.go test -coverage
  - os: linux
    dist: trusty
    sudo: required
    go: 1.9.x
    script:
    - sudo -E apt-get -yq --no-install-suggests --no-install-recommends --force-yes
      install fuse
    - sudo modprobe fuse
    - sudo chmod 666 /dev/fuse
    - sudo chown root:$USER /etc/fuse.conf
    - go run build/ci.go install
    - go run build/ci.go test -coverage
  - os: osx
    go: 1.9.x
    sudo: required
    script:
    - brew update
    - brew install caskroom/cask/brew-cask
    - brew cask install osxfuse
    - go run build/ci.go install
    - go run build/ci.go test -coverage
  - os: linux
    dist: trusty
    sudo: required
    go: 1.9.x
    env:
    - lint
    script:
    - sudo -E apt-get -yq --no-install-suggests --no-install-recommends --force-yes
      install fuse
    - sudo modprobe fuse
    - sudo chmod 666 /dev/fuse
    - sudo chown root:$USER /etc/fuse.conf
    - go run build/ci.go lint
install:
- go get golang.org/x/tools/cmd/cover
script:
- go run build/ci.go install
- go run build/ci.go test -coverage
notifications:
  slack:
    secure: eE2ut3EUxOJp2yD8VpybADFIm2LiYXCGdWbNpoevyziCGcabL+KLT4ejOCFPGppotgiWUTW/rKh0DtN5yJUgX1oLRPdXNbOKmPIWpJ994Nwe7dZSuJVf+ztMQe3a2T4N9EKRetB3WxJabJpmxgLtvedJgUkKMpaEYql9Q4gzzpNjceVnLlLqHD59UZlt4PTRXWD0Ipq8vREdn4nZgOMqLOOVdOI0v4DV5RaaUPt/HKizB5P3ncxMk6pc0KH5WhCsyaHpZE+LDGUeGADgM73ShPWRH2ernATL6QFTcCWDUvO/Vw229DMXub10NB5hSerR5q412mhMnNDWX9ACZ2YCs84rkRd+P0P8pSHuizLKY1aszowEnJgdSpsu8mIncYUXXV140enj9FWuzCbMIEyT6jLFhrAG8wd8P1EWbZ4uHAoNQYvgUIBq++HxrcNZ1sI3vt1xwz1Lt/MVbF3GmKf0im0cOQgij7JaZPo787pHP7uDmBoStNUVj+Ue75iyX4aGYy2qX+Vu20hynEgn5Ox5vlB0I/3SttMngRc1b3nblgmvZFYgGIevpEEgtm4XnerySLFe2Ihr2oE1s86DMBdAshPUJHMmpKY5hgGpcszlFU7YXOOR4j3uljVf1NVfRHBeWaPvsBkiRYafMNMgHDzKrKhPumBDouce1jsAfEusYuo=
    on_success: always
    on_failure: always
    on_pull_requests: true
